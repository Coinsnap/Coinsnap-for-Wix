# Coinsnap for Wix payment plugin

![Image of Coinsnap for Wix](https://coinsnap.io/wp-content/uploads/2023/11/coinsnap-for-wix.png)

## Accept Bitcoin and Lightning Payments with Wix

### Steps to Integrate Coinsnap as a Payment Provider in Wix

1. **Enable Developer Mode**

   - In your Wix site, open the **Wix Editor**.
   - At the top, click on **Dev Mode** and then click the **Turn on Dev Mode** button to enable developer mode.

2. **Open the Code Editor**

   - On the left side, click on the **{ } icon** to open the code editor.

3. **Add Payment Provider Service Plugin**

   - In the **Service Plugins** section, click on the **(+)** sign and select **Payment** to add a payment provider service plugin.

4. **Start Setup**

   - On the following screen, click **Start now**.

5. **Accept Terms**

   - On the legal terms page, check the terms and click **Accept**.

6. **Name the Plugin**

   - Enter the name of the plugin: **Coinsnap** (you can use any name, but this will make it easier to follow the guide).
   - Click **Add & Edit Code**.

7. **Locate Created Files**

   - This creates a directory named **Coinsnap** containing two files: `Coinsnap.js` and `Coinsnap-config.js`, which will open in the editor.

8. **Copy Code to `Coinsnap-config.js`**

   - In `Coinsnap-config.js`, paste the code from our Git repository. Click the **Copy raw file** icon to easily copy the code.
   - Make sure to delete any example code in `Coinsnap-config.js` in the Wix editor before pasting the new code.

9. **Copy Code to `Coinsnap.js`**

   - Open `Coinsnap.js` in the Wix editor and paste the code from our Git repository.
   - Delete all example code from `Coinsnap.js` before pasting the new code.

10. **Add `http-functions.js` to the Backend Directory**

- In the **backend** section of your editor, click on the **(+) icon** and select **Expose Site API**, which creates an `http-functions.js` file. (If this file already exists, you can skip this step.)
- Copy the code from our Git repository into `http-functions.js`. If `http-functions.js` already exists, add the code from GitHub below the existing code. If not, delete any example code before pasting.

11. **Publish Changes**

- Once the code is complete, click **Publish** to save the changes and make the plugin available.

### Configure the Payment Service Provider Plugin (PSPP)

12. **Set Up Payment Configuration**

- Go to your site's dashboard, and in the left menu, click on **Settings**.
- On the Settings page, click **Accept Payments**.

13. **Connect Coinsnap as Payment Provider**

- On the following page, you should see **Bitcoin/Lightning with Coinsnap** as a payment provider. If not, refresh the page to clear the Wix cache.
- Click **Connect** next to Coinsnap.

14. **Enter Configuration Details**

- You will be prompted to enter the following fields:
  - **API Key**
  - **Store ID**
  - **Webhook Secret**

### API Key

1. In your Wix store: paste that API key into the "**API Key**" field

### Store ID

1. In your Wix store: paste that Store ID into the "**Store ID**" field

### Webhook Secret

1. Go back to your Coinsnap store and "Create Webhook"
2. **Payload URL**: Your Wix store URL where it can be reached combined with a callback path. E.g. `https://example.com/_functions/post_coinsnap_webhook` (replace example.com with your Wix store URL)
3. **Secret**: This is auto-generated by Coinsnap, you can show it by clicking on the "eye" icon
4. Copy the "**Secret**" and paste it into the "**Webhook Secret**" field in your Wix store e.g. 'YOURWEBHOOKSECRET' as shown in our example

### Save the configuration

1. Back in your Wix store, click on "**Connect**" to save the configuration
